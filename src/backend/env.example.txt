# =============================================
# HORIZON CREDIT REPAIR - BACKEND ENVIRONMENT
# =============================================
# Copy this file to .env and fill in your values

# =============
# APPLICATION
# =============
NODE_ENV=production
PORT=4000
API_PREFIX=/api/v1

# URLs
FRONTEND_URL=https://horizongrowth.com
APP_URL=https://app.horizongrowth.com

# =============
# DATABASE
# =============
# PostgreSQL (DigitalOcean Managed Database)
DATABASE_URL=postgresql://user:password@db-hostname:25060/horizon_production?sslmode=require

# MongoDB (DigitalOcean Managed Database)
MONGODB_URI=mongodb+srv://user:password@mongodb-hostname/horizon_production

# Redis (DigitalOcean Managed Database)
REDIS_URL=rediss://default:password@redis-hostname:25061

# =============
# AUTHENTICATION
# =============
JWT_SECRET=your-256-bit-secret-key-here
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_SECRET=your-refresh-token-secret
REFRESH_TOKEN_EXPIRES_IN=30d

# Password Hashing
BCRYPT_ROUNDS=12

# =============
# STRIPE PAYMENTS
# =============
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# Price IDs (create at https://dashboard.stripe.com/products)
STRIPE_BASIC_PRICE_ID=price_xxxxx
STRIPE_PREMIER_PRICE_ID=price_xxxxx         # $109.99/mo - awaiting from user
STRIPE_PREMIER_PLUS_PRICE_ID=price_xxxxx    # $139.99/mo - awaiting from user

# =============
# EMAIL (SENDGRID)
# =============
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxxx
SENDGRID_FROM_EMAIL=support@horizongrowth.com
SENDGRID_FROM_NAME=Horizon Credit Repair

# Email Templates (create in SendGrid)
SENDGRID_WELCOME_TEMPLATE_ID=d-xxxxx
SENDGRID_PASSWORD_RESET_TEMPLATE_ID=d-xxxxx
SENDGRID_DISPUTE_UPDATE_TEMPLATE_ID=d-xxxxx

# =============
# SMS (TWILIO)
# =============
# Get from: https://console.twilio.com
TWILIO_ACCOUNT_SID=ACxxxxx
TWILIO_AUTH_TOKEN=xxxxx
TWILIO_PHONE_NUMBER=+1xxxxxxxxxx

# =============
# OPENAI
# =============
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxx
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# =============
# CREDIT BUREAU AGGREGATOR
# =============
# Option 1: Array (https://array.com)
ARRAY_API_KEY=xxxxx
ARRAY_SECRET=xxxxx
ARRAY_ENVIRONMENT=production

# Option 2: Plaid (https://plaid.com) - Alternative
# PLAID_CLIENT_ID=xxxxx
# PLAID_SECRET=xxxxx
# PLAID_ENV=production

# =============
# FILE STORAGE (DigitalOcean Spaces)
# =============
DO_SPACES_ENDPOINT=https://nyc3.digitaloceanspaces.com
DO_SPACES_KEY=xxxxx
DO_SPACES_SECRET=xxxxx
DO_SPACES_BUCKET=horizon-files
DO_SPACES_REGION=nyc3

# =============
# KAFKA (Event Streaming)
# =============
KAFKA_BROKERS=kafka-hostname:9093
KAFKA_CLIENT_ID=horizon-api
KAFKA_GROUP_ID=horizon-consumers

# =============
# ELASTICSEARCH
# =============
ELASTICSEARCH_NODE=https://elasticsearch-hostname:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=xxxxx

# =============
# MONITORING & LOGGING
# =============
# Sentry
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# =============
# RATE LIMITING
# =============
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# =============
# ENCRYPTION
# =============
# For encrypting sensitive data at rest (32 bytes, hex encoded)
ENCRYPTION_KEY=your-64-character-hex-string-here

